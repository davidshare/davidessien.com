==========================================
FILE: ./src/app/blog/BlogClient.tsx
==========================================

'use client'

import React, { useState, useMemo } from "react";
import { Search } from "lucide-react";
import { Button } from "@/components/ui/button";
import { BlogCard } from "@/components/blog-card";
import { PostMeta } from '@/lib/api'

const CATEGORIES = ["All", "Product", "Business", "Client interactions"];
const POSTS_PER_PAGE = 6;

interface BlogClientProps {
  posts: PostMeta[];
}

const BlogClient: React.FC<BlogClientProps> = ({ posts }) => {
  const [searchQuery, setSearchQuery] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('All');
  const [currentPage, setCurrentPage] = useState(1);

  const filteredPosts = useMemo(() => {
    return posts.filter(post => {
      const matchesCategory =
        selectedCategory === 'All' || post.category.includes(selectedCategory);
      const matchesSearch =
        post.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
        post.excerpt.toLowerCase().includes(searchQuery.toLowerCase());
      return matchesCategory && matchesSearch;
    });
  }, [posts, searchQuery, selectedCategory]);

  const totalPages = Math.ceil(filteredPosts.length / POSTS_PER_PAGE);
  const paginatedPosts = filteredPosts.slice(
    (currentPage - 1) * POSTS_PER_PAGE,
    currentPage * POSTS_PER_PAGE
  );

  const handleCategoryClick = (category: string) => {
    setSelectedCategory(category);
    setCurrentPage(1);
  };

  const handlePageChange = (direction: 'prev' | 'next') => {
    setCurrentPage(prev => {
      if (direction === 'prev') return Math.max(prev - 1, 1);
      else return Math.min(prev + 1, totalPages);
    });
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  return (
    <>
      {/* Header Section */}
      <div className="mb-12">
        <p className="mb-2 text-sm font-medium text-muted-foreground uppercase tracking-wider">
          I AM DAVID ESSIEN
        </p>
        <h1 className="text-4xl font-extrabold tracking-tight sm:text-6xl mb-6">
          Learn DevOps and SRE
        </h1>
        <p className="max-w-2xl text-muted-foreground text-lg leading-relaxed">
          DevOps engineer with over 15 years of experience in the tech industry. He is also the
          co-founder of Psifon.org and Tersu.
        </p>
      </div>

      {/* Controls Section */}
      <div className="flex flex-col md:flex-row justify-between items-center gap-6 mb-12">
        <div className="flex flex-wrap gap-2 w-full md:w-auto">
          {CATEGORIES.map(cat => (
            <Button
              key={cat}
              variant={cat === selectedCategory ? "default" : "secondary"}
              className={`rounded-full px-6 ${cat === selectedCategory ? "bg-primary text-primary-foreground" : "bg-muted hover:bg-muted/80"}`}
              onClick={() => handleCategoryClick(cat)}
            >
              {cat}
            </Button>
          ))}
        </div>

        <div className="relative w-full md:w-80">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4" />
          <input
            type="text"
            placeholder="Search"
            value={searchQuery}
            onChange={e => { setSearchQuery(e.target.value); setCurrentPage(1); }}
            className="w-full h-10 rounded-full bg-muted border-none pl-10 pr-4 text-sm focus:ring-1 focus:ring-primary outline-none transition-all"
          />
        </div>
      </div>

      {/* Posts Grid */}
      <div className="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {paginatedPosts.map(post => (
          <BlogCard key={post.slug} post={post} />
        ))}
      </div>

      {/* Pagination */}
      {totalPages > 1 && (
        <div className="mt-16 flex justify-center items-center gap-4">
          <Button variant="outline" className="rounded-md" onClick={() => handlePageChange('prev')}>Back</Button>
          <span className="text-sm font-medium">{currentPage}/{totalPages}</span>
          <Button variant="default" className="rounded-md bg-black text-white dark:bg-white dark:text-black" onClick={() => handlePageChange('next')}>Next</Button>
        </div>
      )}
    </>
  );
};

export default BlogClient;


==========================================
FILE: ./src/app/blog/page.tsx
==========================================

import { getPosts } from "@/lib/api";
import BlogClient from "./BlogClient";

export const metadata = {
  title: "Blog | David Essien",
  description: "Insights and articles from a DevOps Engineer",
};

export default async function BlogPage() {
  const posts = await getPosts();

  return (
    <div className="min-h-screen bg-background text-foreground flex flex-col">
      <main className="flex-1 py-12 md:py-20">
        <div className="container px-4 md:px-8">
          <BlogClient posts={posts} />
        </div>
      </main>
    </div>
  );
}


==========================================
FILE: ./src/app/blog/[slug]/page.tsx
==========================================

import Image from "next/image";
import Link from "next/link";
import { notFound } from "next/navigation";
import { BarChart2, Share2, Clock, Facebook, Twitter, Instagram, Send, Linkedin } from "lucide-react";
import { getPostBySlug, getPosts } from "@/lib/api";
import { Button } from "@/components/ui/button";
import { formatDate } from "@/lib/utils";
import { BlogCard } from "@/components/blog-card";
import { renderMarkdown } from "@/lib/markdown";

export async function generateStaticParams() {
  const posts = await getPosts();
  return posts.map((post) => ({
    slug: post.slug,
  }));
}

export default async function BlogPostPage({ params }: { params: Promise<{ slug: string }> }) {
  const { slug } = await params;
  const post = await getPostBySlug(slug);
  const allPosts = await getPosts();

  if (!post) {
    notFound();
  }

  const contentHtml = await renderMarkdown(post.content);

  // Suggested posts logic
  const suggestedPosts = allPosts.filter(p => p.slug !== slug).slice(0, 3);

  // Sidebar mock data
  const recentPosts = allPosts.slice(0, 3);
  const recommendedPosts = allPosts.slice(0, 3);

  return (
    <div className="min-h-screen bg-background text-foreground flex flex-col font-sans">
      <main className="flex-1">
        <div className="container px-4 md:px-8 py-12 md:py-16">

          {/* Top Meta Info */}
          <div className="flex flex-wrap items-center gap-6 text-xs font-bold text-muted-foreground mb-4 uppercase tracking-wider">
            <span className="text-foreground">{post.category}</span>
            <span className="w-px h-3 bg-muted-foreground/30"></span>
            <span className="flex items-center gap-2"><BarChart2 className="w-3 h-3" /> {post.views || 412}</span>
            <span className="flex items-center gap-2"><Share2 className="w-3 h-3" /> {post.shares || 827} shares</span>
            <span className="flex items-center gap-2"><Clock className="w-3 h-3" /> {post.readTime || "3 minutes read"}</span>
          </div>

          <h1 className="text-3xl md:text-5xl lg:text-6xl font-extrabold tracking-tight mb-8 leading-[1.1] max-w-4xl">
            {post.title}
          </h1>

          {/* Author & Social Row */}
          <div className="flex flex-col sm:flex-row sm:items-center justify-between gap-6 mb-8 border-b pb-8 border-border/40">
            <div className="flex items-center gap-3">
              <div className="relative w-10 h-10 rounded-full overflow-hidden bg-muted">
                {post.authorImage ? (
                  <Image src={post.authorImage} alt={post.author} fill className="object-cover" />
                ) : (
                  <div className="w-full h-full flex items-center justify-center bg-primary/10">{post.author.charAt(0)}</div>
                )}
              </div>
              <div className="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm">
                <span className="font-bold text-foreground">{post.author}</span>
                <span className="hidden sm:inline text-muted-foreground">•</span>
                <span className="text-muted-foreground">{formatDate(post.date)}</span>
              </div>
            </div>

            <div className="flex items-center gap-4 text-xs font-medium text-muted-foreground">
              <div className="flex items-center gap-2 hover:text-foreground cursor-pointer transition-colors">
                <div className="bg-muted p-1.5 rounded-full"><Facebook className="w-3 h-3" /></div>
                <span>242</span>
              </div>
              <div className="flex items-center gap-2 hover:text-foreground cursor-pointer transition-colors">
                <div className="bg-muted p-1.5 rounded-full"><Twitter className="w-3 h-3" /></div>
                <span>768</span>
              </div>
              <div className="flex items-center gap-2 hover:text-foreground cursor-pointer transition-colors">
                <div className="bg-muted p-1.5 rounded-full"><Linkedin className="w-3 h-3" /></div>
                <span>323</span>
              </div>
            </div>
          </div>

          {/* Hero Image */}
          <div className="relative w-full aspect-[16/9] md:aspect-[2/1] rounded-3xl overflow-hidden mb-12 bg-muted shadow-sm">
            <Image
              src={post.coverImage}
              alt={post.title}
              fill
              className="object-cover"
              priority
            />
          </div>

          <div className="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-20">
            {/* Main Content Column */}
            <div className="lg:col-span-8">
              {/* Content */}
              <article
                className="prose prose-lg dark:prose-invert max-w-none 
                    prose-headings:font-bold prose-headings:tracking-tight prose-headings:text-foreground
                    prose-p:text-muted-foreground prose-p:leading-relaxed
                    prose-a:text-primary hover:prose-a:underline
                    prose-img:rounded-2xl
                    prose-blockquote:border-l-4 prose-blockquote:border-primary prose-blockquote:pl-6 prose-blockquote:italic
                    prose-strong:text-foreground
                    prose-li:text-muted-foreground"
                dangerouslySetInnerHTML={{ __html: contentHtml }}
              />

              {/* Bottom Author Bio Card */}
              <div className="mt-16 bg-muted/30 rounded-2xl p-8 flex flex-col md:flex-row items-start gap-6">
                <div className="relative w-16 h-16 rounded-full overflow-hidden shrink-0 border-2 border-background shadow-sm">
                  {post.authorImage ? (
                    <Image src={post.authorImage} alt={post.author} fill className="object-cover" />
                  ) : (
                    <div className="w-full h-full bg-primary/20" />
                  )}
                </div>
                <div className="flex-1">
                  <div className="flex flex-col sm:flex-row sm:items-center justify-between gap-2 mb-2">
                    <div className="flex items-center gap-3">
                      <h3 className="text-lg font-bold text-foreground">{post.author}</h3>
                      <span className="px-2 py-0.5 rounded-full bg-muted text-[10px] uppercase font-bold tracking-wide text-muted-foreground">DevOps Engineer</span>
                    </div>
                  </div>
                  <p className="text-muted-foreground text-sm leading-relaxed">
                    Sociis consequat adipiscing sit curabitur donec sem luctus cras natoque vulputate dolor eget dapibus.
                    sem luctus cras natoqu vulputate dolor eget dapibus.
                  </p>
                </div>
              </div>
            </div>

            {/* Sidebar */}
            <div className="lg:col-span-4 space-y-12">
              {/* Share Widget */}
              <div className="bg-muted/30 rounded-2xl p-8 text-center">
                <h3 className="text-lg font-medium mb-6">Share</h3>
                <div className="flex justify-center gap-4">
                  <Button variant="outline" size="icon" className="rounded-full w-10 h-10 border-muted-foreground/20 hover:border-primary hover:text-primary transition-colors bg-background">
                    <Instagram className="w-4 h-4" />
                  </Button>
                  <Button variant="outline" size="icon" className="rounded-full w-10 h-10 border-muted-foreground/20 hover:border-primary hover:text-primary transition-colors bg-background">
                    <Twitter className="w-4 h-4" />
                  </Button>
                  <Button variant="outline" size="icon" className="rounded-full w-10 h-10 border-muted-foreground/20 hover:border-primary hover:text-primary transition-colors bg-background">
                    <Send className="w-4 h-4" />
                  </Button>
                </div>
              </div>

              {/* Recent Posts */}
              <div>
                <div className="mb-6">
                  <p className="text-[10px] font-bold text-muted-foreground uppercase tracking-widest mb-1">Top Post</p>
                  <h3 className="text-xl font-bold">Recent</h3>
                </div>
                <div className="space-y-6">
                  {recentPosts.map((p, i) => (
                    <Link href={`/blog/${p.slug}`} key={`recent-${i}`} className="flex gap-4 group cursor-pointer">
                      <div className="w-24 h-20 bg-muted rounded-lg shrink-0 overflow-hidden relative">
                        <Image src={p.coverImage} alt={p.title} fill className="object-cover group-hover:scale-110 transition-transform duration-500" />
                      </div>
                      <div className="py-1">
                        <h4 className="font-bold text-sm leading-snug mb-2 group-hover:text-primary transition-colors line-clamp-2">
                          {p.title}
                        </h4>
                        <div className="flex gap-3 text-[10px] font-medium text-muted-foreground uppercase">
                          <span className="flex items-center gap-1"><BarChart2 className="w-3 h-3" /> {p.views || 219}</span>
                          <span className="flex items-center gap-1"><Clock className="w-3 h-3" /> {p.readTime || "2 min"}</span>
                        </div>
                      </div>
                    </Link>
                  ))}
                </div>
              </div>

              {/* Recommended Posts */}
              <div>
                <div className="mb-6">
                  <p className="text-[10px] font-bold text-muted-foreground uppercase tracking-widest mb-1">Top Post</p>
                  <h3 className="text-xl font-bold">Recommended</h3>
                </div>
                <div className="space-y-6">
                  {recommendedPosts.map((p, i) => (
                    <Link href={`/blog/${p.slug}`} key={`rec-${i}`} className="flex gap-4 group cursor-pointer">
                      <div className="w-24 h-20 bg-muted rounded-lg shrink-0 overflow-hidden relative">
                        <Image src={p.coverImage} alt={p.title} fill className="object-cover group-hover:scale-110 transition-transform duration-500" />
                      </div>
                      <div className="py-1">
                        <h4 className="font-bold text-sm leading-snug mb-2 group-hover:text-primary transition-colors line-clamp-2">
                          {p.title}
                        </h4>
                        <div className="flex gap-3 text-[10px] font-medium text-muted-foreground uppercase">
                          <span className="flex items-center gap-1"><BarChart2 className="w-3 h-3" /> {p.views || 219}</span>
                          <span className="flex items-center gap-1"><Clock className="w-3 h-3" /> {p.readTime || "2 min"}</span>
                        </div>
                      </div>
                    </Link>
                  ))}
                </div>
              </div>
            </div>
          </div>

          {/* You Might Like Section */}
          <div className="mt-24 pt-16 border-t border-border/40">
            <h2 className="text-3xl font-extrabold mb-12">You Might Like</h2>
            <div className="grid gap-x-8 gap-y-12 md:grid-cols-3">
              {suggestedPosts.length > 0 ? (
                suggestedPosts.map(post => <BlogCard key={post.slug} post={post} />)
              ) : (
                // Fallback if no other posts exist
                <>
                  <BlogCard post={{ ...post, slug: 'dummy-1', title: 'Article title goes here' }} />
                  <BlogCard post={{ ...post, slug: 'dummy-2', title: 'Article title goes here' }} />
                  <BlogCard post={{ ...post, slug: 'dummy-3', title: 'Article title goes here' }} />
                </>
              )}
            </div>

            <div className="mt-16 flex justify-center items-center gap-4">
              <Button variant="outline" className="rounded-md px-6 h-11 border-muted-foreground/20 hover:bg-muted font-medium">Back</Button>
              <span className="text-sm font-bold mx-2">1/14</span>
              <Button variant="default" className="rounded-md bg-foreground text-background hover:bg-foreground/90 px-6 h-11 font-medium">Next</Button>
            </div>
          </div>
        </div>
      </main>
    </div>
  );
}

==========================================
FILE: ./src/app/experience/page.tsx
==========================================

import Link from "next/link";
import fs from "fs";
import path from "path";

interface ExperienceIndexItem {
  slug: string;  // e.g., "00-andela-software-developer"
  title: string;
  company: string;
  location?: string;
  description: string;
  duration: {
    label: string;
  };
}

async function getExperiences(): Promise<ExperienceIndexItem[]> {
  try {
    const indexPath = path.join(process.cwd(), 'public', 'experience-index.json');

    if (!fs.existsSync(indexPath)) {
      console.error('Index file not found:', indexPath);
      return [];
    }

    const fileContent = fs.readFileSync(indexPath, 'utf-8');
    return JSON.parse(fileContent);
  } catch (error) {
    console.error('Failed to load experience index:', error);
    return [];
  }
}

export default async function ExperiencePage() {
  const experiences = await getExperiences();

  return (
    <div className="min-h-screen bg-background py-20">
      <div className="max-w-5xl mx-auto px-4 sm:px-6">
        <h1 className="text-4xl font-bold mb-12 text-center">My Experience</h1>

        <div className="flex flex-col gap-12">
          {experiences.map((item) => (
            <Link
              key={item.slug}
              href={`/experience/${item.slug}`}  // Use slug with number prefix
              className="block p-6 border rounded-3xl hover:shadow-lg transition-shadow"
            >
              <div className="flex flex-col md:flex-row md:items-start justify-between gap-4">
                <div>
                  <h2 className="text-xl font-bold text-foreground">{item.title}</h2>
                  <div className="flex items-center gap-2 text-muted-foreground text-sm mt-1">
                    <span className="font-medium text-primary">{item.company}</span>
                    {item.location && <span>• {item.location}</span>}
                  </div>
                  <p className="text-sm text-muted-foreground mt-2 line-clamp-3">
                    {item.description}
                  </p>
                </div>
                <div className="text-sm font-medium whitespace-nowrap bg-secondary/50 px-3 py 1 rounded-md h-fit">
                  {item.duration.label}
                </div>
              </div>
            </Link>
          ))}
        </div>
      </div>
    </div>
  );
}

==========================================
FILE: ./src/app/experience/[slug]/page.tsx
==========================================

import { getExperienceBySlug, getAllExperienceSlugs } from "@/lib/experience";
import { notFound } from "next/navigation";
import Link from 'next/link';
import { Button } from '@/components/ui/button';
import { ArrowLeft } from 'lucide-react';

export async function generateStaticParams() {
  const slugs = getAllExperienceSlugs();
  return slugs.map((slug) => ({ slug }));
}

export default async function ExperienceSinglePage({
  params
}: {
  params: Promise<{ slug: string }>
}) {
  const { slug } = await params;

  const experience = await getExperienceBySlug(slug);

  if (!experience) {
    console.error('[ExperienceSinglePage] Not found:', slug);
    return notFound();
  }

  return (
    <div className="min-h-screen bg-background py-20">
      <div className="max-w-4xl mx-auto px-4 sm:px-6">
        <div className="mb-8">
          <Button variant="ghost" asChild className="gap-2">
            <Link href="/experience">
              <ArrowLeft className="h-4 w-4" />
              Back to Experiences
            </Link>
          </Button>
        </div>
        <div className="max-w-4xl mx-auto px-4 sm:px-6">
          <h1 className="text-4xl font-bold mb-6">{experience.title}</h1>
          <div className="flex items-center gap-4 mb-6 text-muted-foreground text-sm">
            <span>{experience.company}</span>
            {experience.location && <span>• {experience.location}</span>}
            <span>• {experience.duration.label}</span>
          </div>
          <article
            className="max-w-none
          text-gray-800 text-lg leading-relaxed
          [&_h1]:text-4xl [&_h1]:font-bold [&_h1]:text-gray-900 [&_h1]:mt-10 [&_h1]:mb-6
          [&_h2]:text-3xl [&_h2]:font-bold [&_h2]:text-gray-800 [&_h2]:mt-8 [&_h2]:mb-4
          [&_h3]:text-2xl [&_h3]:font-bold [&_h3]:text-gray-800 [&_h3]:mt-6 [&_h3]:mb-3
          [&_p]:my-6 [&_p]:leading-8
          [&_ul]:list-disc [&_ul]:pl-8 [&_ul]:my-6
          [&_ol]:list-decimal [&_ol]:pl-8 [&_ol]:my-6
          [&_li]:my-3
          [&_:not(pre)_code]:px-1.5 [&_:not(pre)_code]:py-0.5 [&_:not(pre)_code]:rounded [&_:not(pre)_code]:font-mono [&_:not(pre)_code]:text-sm
          [&_pre]:bg-gray-900 [&_pre]:text-gray-100 [&_pre]:p-6 [&_pre]:rounded-xl [&_pre]:my-8 [&_pre]:overflow-x-auto
          [&_a]:text-primary [&_a]:font-medium [&_a]:hover:underline
          [&_blockquote]:border-l-4 [&_blockquote]:border-primary [&_blockquote]:pl-6 [&_blockquote]:italic [&_blockquote]:my-8
          [&_strong]:font-bold [&_strong]:text-gray-900"
            dangerouslySetInnerHTML={{ __html: experience.html }}
          />
          {experience.techStack?.length > 0 && (
            <div className="mt-6 flex flex-wrap gap-2">
              {experience.techStack.map((skill) => (
                <span
                  key={skill}
                  className="bg-secondary text-xs px-2 py-1 rounded-md"
                >
                  {skill}
                </span>
              ))}
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

==========================================
FILE: ./src/app/layout.tsx
==========================================

import type { Metadata } from "next";
import "./globals.css";
import { ThemeProvider } from "@/components/theme-provider";
import React from "react";

import { Navbar } from '@/components/navbar';
import { Footer } from '@/components/footer';

export const metadata: Metadata = {
  title: "Knowhare | DevOps Engineer Portfolio",
  description: "Portfolio of a DevOps Engineer & Co-founder",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body>
        <ThemeProvider
          attribute="class"
          defaultTheme="system"
          enableSystem
          disableTransitionOnChange
        >
          <Navbar />
          {children}
          <Footer />
        </ThemeProvider>
      </body>
    </html>
  );
}

==========================================
FILE: ./src/app/page.tsx
==========================================

import { Hero } from "@/components/hero";
import { Services } from "@/components/services";
import { Projects } from "@/components/projects";
import { ExperienceSection } from "@/components/experience";
import { Blog } from "@/components/blog";
import { Contact } from "@/components/contact";
import { getProjects, getPosts, getExperienceSectionData } from "@/lib/api";
import { getAllServices } from '@/lib/services';

// --- Mock Data Fallback ---
// Since this is a generated demo, if no files exist, we use this data.

export default async function Home() {
  // Try to fetch real data, fall back to mock if empty (for preview purposes)
  const projects = await getProjects().catch(() => []);
  const experience = await getExperienceSectionData().catch(() => []);
  const posts = await getPosts().catch(() => []);
  const services = await getAllServices().catch(() => []);

  return (
    <div className="min-h-screen bg-background text-foreground">
      <main>
        <Hero />
        <Services services={services} />
        <Projects projects={projects} />
        <ExperienceSection items={experience} />
        <Blog posts={posts} />
        <Contact />
      </main>

    </div>
  );
}


==========================================
FILE: ./src/app/projects/page.tsx
==========================================

import { Metadata } from "next";
import { getAllProjects } from "@/lib/projects";
import ProjectsClient from "./ProjectsClient";

export const metadata: Metadata = {
  title: "Projects | David Essien",
  description: "Explore technical projects showcasing cloud infrastructure, DevOps practices, and full-stack development skills.",
};

export default async function ProjectsPage() {
  const projects = await getAllProjects();

  return (
    <div className="min-h-screen bg-background text-foreground flex flex-col">
      <main className="flex-1 py-12 md:py-20">
        <div className="container px-4 md:px-8">
          <ProjectsClient projects={projects} />
        </div>
      </main>
    </div>
  );
}

==========================================
FILE: ./src/app/projects/ProjectsClient.tsx
==========================================

'use client'

import React, { useState, useMemo } from "react";
import { Search } from "lucide-react";
import { Button } from "@/components/ui/button";
import ProjectCard from "@/components/project-card";
import { Project } from "@/lib/projects";

const POSTS_PER_PAGE = 6;

interface ProjectsClientProps {
  projects: Project[];
}

const ProjectsClient: React.FC<ProjectsClientProps> = ({ projects }) => {
  const [searchQuery, setSearchQuery] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('All');
  const [currentPage, setCurrentPage] = useState(1);

  // Extract all unique categories from projects
  const allCategories = useMemo(() => {
    const categoriesSet = new Set<string>(['All']);
    projects.forEach(project => {
      project.categories.forEach(category => categoriesSet.add(category));
    });
    return Array.from(categoriesSet);
  }, [projects]);

  const filteredProjects = useMemo(() => {
    return projects.filter(project => {
      // Filter by category
      const matchesCategory =
        selectedCategory === 'All' || project.categories.includes(selectedCategory);

      // Filter by search query
      const matchesSearch =
        searchQuery === '' ||
        project.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
        project.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
        project.techStack.some(tech => tech.toLowerCase().includes(searchQuery.toLowerCase())) ||
        project.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));

      return matchesCategory && matchesSearch;
    });
  }, [projects, searchQuery, selectedCategory]);

  const totalPages = Math.ceil(filteredProjects.length / POSTS_PER_PAGE);
  const paginatedProjects = filteredProjects.slice(
    (currentPage - 1) * POSTS_PER_PAGE,
    currentPage * POSTS_PER_PAGE
  );

  const handleCategoryClick = (category: string) => {
    setSelectedCategory(category);
    setCurrentPage(1);
  };

  const handlePageChange = (direction: 'prev' | 'next') => {
    setCurrentPage(prev => {
      if (direction === 'prev') return Math.max(prev - 1, 1);
      else return Math.min(prev + 1, totalPages);
    });
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  return (
    <>
      {/* Header Section */}
      <div className="mb-12">
        <p className="mb-2 text-sm font-medium text-muted-foreground uppercase tracking-wider">
          PROJECT PORTFOLIO
        </p>
        <h1 className="text-4xl font-extrabold tracking-tight sm:text-6xl mb-6">
          Technical Projects
        </h1>
        <p className="max-w-2xl text-muted-foreground text-lg leading-relaxed">
          Explore my technical projects showcasing cloud infrastructure, DevOps practices,
          and full-stack development skills.
        </p>
      </div>

      {/* Controls Section */}
      <div className="flex flex-col md:flex-row justify-between items-center gap-6 mb-12">
        <div className="flex flex-wrap gap-2 w-full md:w-auto">
          {allCategories.map(cat => (
            <Button
              key={cat}
              variant={cat === selectedCategory ? "default" : "secondary"}
              className={`rounded-full px-6 ${cat === selectedCategory ? "bg-primary text-primary-foreground" : "bg-muted hover:bg-muted/80"}`}
              onClick={() => handleCategoryClick(cat)}
            >
              {cat}
            </Button>
          ))}
        </div>

        <div className="relative w-full md:w-80">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4" />
          <input
            type="text"
            placeholder="Search projects by title, tech, or keyword..."
            value={searchQuery}
            onChange={e => { setSearchQuery(e.target.value); setCurrentPage(1); }}
            className="w-full h-10 rounded-full bg-muted border-none pl-10 pr-4 text-sm focus:ring-1 focus:ring-primary outline-none transition-all"
          />
        </div>
      </div>

      {/* Results Count */}
      <div className="mb-6 text-sm text-muted-foreground">
        Showing {filteredProjects.length} of {projects.length} projects
        {selectedCategory !== 'All' && ` in "${selectedCategory}"`}
      </div>

      {/* Projects Grid */}
      <div className="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {paginatedProjects.map(project => (
          <ProjectCard key={project.slug} project={project} />
        ))}
      </div>

      {/* No Results */}
      {paginatedProjects.length === 0 && (
        <div className="text-center py-12">
          <p className="text-gray-500 dark:text-gray-400 text-lg">
            No projects found matching your criteria. Try a different search or category.
          </p>
        </div>
      )}

      {/* Pagination */}
      {totalPages > 1 && (
        <div className="mt-16 flex justify-center items-center gap-4">
          <Button
            variant="outline"
            className="rounded-md"
            onClick={() => handlePageChange('prev')}
            disabled={currentPage === 1}
          >
            Back
          </Button>
          <span className="text-sm font-medium">
            Page {currentPage} of {totalPages}
          </span>
          <Button
            variant="default"
            className="rounded-md bg-black text-white dark:bg-white dark:text-black"
            onClick={() => handlePageChange('next')}
            disabled={currentPage === totalPages}
          >
            Next
          </Button>
        </div>
      )}
    </>
  );
};

export default ProjectsClient;

==========================================
FILE: ./src/app/projects/[slug]/page.tsx
==========================================

import { Metadata } from "next";
import { getProjectBySlug, getAllProjectSlugs } from "@/lib/projects";
import { notFound } from "next/navigation";
import Image from "next/image";
import { Button } from "@/components/ui/button";
import { ArrowLeft, ExternalLink, Github } from "lucide-react";
import Link from "next/link";

export async function generateStaticParams() {
  const slugs = getAllProjectSlugs();
  return slugs.map((slug) => ({ slug }));
}

export async function generateMetadata({
  params
}: {
  params: Promise<{ slug: string }>
}): Promise<Metadata> {
  const { slug } = await params;
  const project = await getProjectBySlug(slug);

  if (!project) {
    return {
      title: "Project Not Found",
    };
  }

  return {
    title: `${project.title} | David Essien`,
    description: project.description,
  };
}

export default async function ProjectSinglePage({
  params
}: {
  params: Promise<{ slug: string }>
}) {
  const { slug } = await params;
  const project = await getProjectBySlug(slug);

  if (!project) {
    return notFound();
  }

  return (
    <div className="min-h-screen bg-background py-20">
      <div className="max-w-4xl mx-auto px-4 sm:px-6">
        {/* Back Button */}
        <div className="mb-8">
          <Button variant="ghost" asChild className="gap-2">
            <Link href="/projects">
              <ArrowLeft className="h-4 w-4" />
              Back to Projects
            </Link>
          </Button>
        </div>

        {/* Header */}
        <div className="mb-8">
          <div className="flex flex-wrap gap-2 mb-4">
            {project.categories.map((category) => (
              <span
                key={category}
                className="px-3 py-1 text-sm font-medium rounded-full bg-primary/10 text-primary"
              >
                {category}
              </span>
            ))}
          </div>

          <h1 className="text-4xl font-bold mb-4">{project.title}</h1>

          <div className="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6">
            <div className="flex items-center gap-4 text-muted-foreground">
              <span className="font-medium text-primary">{project.projectType}</span>

              {project.duration !== "N/A" && (
                <>
                  <span>•</span>
                  <span>{project.duration}</span>
                </>
              )}
            </div>

            <div className="flex gap-2">
              {project.repoUrl && (
                <Button asChild variant="outline" size="sm" className="gap-2">
                  <a href={project.repoUrl} target="_blank" rel="noopener noreferrer">
                    <Github className="h-4 w-4" />
                    Code
                  </a>
                </Button>
              )}

              {project.demoUrl && (
                <Button asChild variant="default" size="sm" className="gap-2">
                  <a href={project.demoUrl} target="_blank" rel="noopener noreferrer">
                    <ExternalLink className="h-4 w-4" />
                    Live Demo
                  </a>
                </Button>
              )}
            </div>
          </div>
        </div>

        {/* Project Diagram */}
        {project.image && (
          <div className="mb-12 rounded-2xl overflow-hidden border shadow-lg">
            <div className="relative aspect-video">
              <Image
                src={project.image}
                alt={`${project.title} architecture image`}
                fill
                className="object-cover"
              />
            </div>
          </div>
        )}

        {/* Content */}
        <article
          className="prose prose-lg dark:prose-invert max-w-none mb-12
          prose-headings:font-bold prose-headings:text-foreground
          prose-p:leading-relaxed
          prose-ul:list-disc prose-ol:list-decimal
          prose-strong:text-foreground
          prose-a:text-primary hover:prose-a:underline
          prose-img:rounded-xl
          prose-ul:pl-6 prose-ol:pl-6
          prose-li:my-1
          prose-blockquote:border-l-4 prose-blockquote:border-primary prose-blockquote:pl-6 prose-blockquote:italic"
          dangerouslySetInnerHTML={{ __html: project.html }}
        />

        {/* Tech Stack */}
        {project.techStack.length > 0 && (
          <div className="mb-12 py-6 rounded-2xl bg-secondary/20">
            <h2 className="text-2xl font-bold mb-4">Tech Stack</h2>
            <ul className="list-disc list-inside space-y-1">
              {project.techStack.map((tech) => (
                <li key={tech}>{tech}</li>
              ))}
            </ul>

          </div>
        )}

        {/* Tags */}
        {project.tags.length > 0 && (
          <div className="mb-12">
            <h3 className="text-lg font-semibold mb-3">Tags</h3>
            <div className="flex flex-wrap gap-2">
              {project.tags.map((tag) => (
                <span
                  key={tag}
                  className="px-3 py-1 text-sm rounded-full bg-muted"
                >
                  #{tag}
                </span>
              ))}
            </div>
          </div>
        )}
      </div>
    </div>
  );
}

==========================================
FILE: ./src/app/services/page.tsx
==========================================

import { getAllServices } from "@/lib/services";
import Link from "next/link";
import Image from "next/image";

export const metadata = {
  title: "Services | David Essien",
  description: "Professional DevOps and SRE consulting services",
};

export default async function ServicesPage() {
  const services = await getAllServices();

  return (
    <div className="min-h-screen bg-background py-20">
      <div className="container mx-auto px-4">
        <div className="text-center mb-16">
          <h1 className="text-5xl font-extrabold mb-6">My Services</h1>
          <p className="text-xl text-muted-foreground max-w-3xl mx-auto">
            Expert DevOps and SRE consulting tailored to accelerate your software delivery,
            improve reliability, and scale your infrastructure.
          </p>
        </div>

        <div className="grid gap-12 md:grid-cols-2 lg:grid-cols-3">
          {services.map((service) => (
            <Link
              key={service.slug}
              href={`/services/${service.slug}`}
              className="group block bg-card rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border"
            >
              <div className="relative aspect-[16/9] bg-muted">
                <Image
                  src={service.image}
                  alt={service.title}
                  fill
                  className="object-cover group-hover:scale-110 transition-transform duration-500"
                />
              </div>
              <div className="p-8">
                <div className="flex items-center gap-3 mb-4">
                  <span className="text-2xl">{service.icon}</span>
                  <span className="text-sm font-medium text-primary uppercase tracking-wider">
                    {service.serviceType}
                  </span>
                </div>
                <h3 className="text-2xl font-bold mb-3 group-hover:text-primary transition-colors">
                  {service.title}
                </h3>
                <p className="text-muted-foreground mb-4 line-clamp-3">
                  {service.description}
                </p>
                <div className="flex flex-wrap gap-2">
                  {service.tags.slice(0, 4).map((tag) => (
                    <span
                      key={tag}
                      className="text-xs px-3 py-1 bg-muted rounded-full"
                    >
                      {tag}
                    </span>
                  ))}
                </div>
              </div>
            </Link>
          ))}
        </div>
      </div>
    </div>
  );
}

==========================================
FILE: ./src/app/services/[slug]/page.tsx
==========================================

import { getServiceBySlug, getAllServiceSlugs } from "@/lib/services";
import { notFound } from "next/navigation";
import Image from "next/image";
import Link from 'next/link';
import { Button } from '@/components/ui/button';
import { ArrowLeft } from 'lucide-react';

export async function generateStaticParams() {
  const slugs = getAllServiceSlugs();
  return slugs.map((slug) => ({ slug }));
}

export default async function ServicePage({
  params,
}: {
  params: Promise<{ slug: string }>;
}) {
  const { slug } = await params;
  const service = await getServiceBySlug(slug);

  if (!service) {
    notFound();
  }

  return (
    <div className="min-h-screen bg-background py-20">
      <div className="container mx-auto px-4 max-w-5xl">
        <div className="mb-8">
          <Button variant="ghost" asChild className="gap-2">
            <Link href="/services">
              <ArrowLeft className="h-4 w-4" />
              Back to Services
            </Link>
          </Button>
        </div>
        {/* Hero */}
        <div className="relative aspect-[2/1] rounded-3xl overflow-hidden mb-12 shadow-2xl">
          <Image
            src={service.image}
            alt={service.title}
            fill
            className="object-cover"
            priority
          />
          <div className="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent" />
          <div className="absolute bottom-0 left-0 p-8 text-white">
            <div className="flex items-center gap-4 mb-4">
              {/* <span className="text-5xl">{service.icon}</span> */}
              <span className="px-4 py-2 bg-primary/80 rounded-full text-sm font-medium">
                {service.serviceType}
              </span>
            </div>
            <h1 className="text-5xl font-extrabold mb-2">{service.title}</h1>
            <p className="text-xl opacity-90">{service.duration}</p>
          </div>
        </div>

        {/* Content */}
        <article
          className="prose prose-lg dark:prose-invert max-w-none prose-pre:p-0 prose-pre:m-0 prose-pre:bg-transparent"
          dangerouslySetInnerHTML={{ __html: service.html }}
        />

        {/* Features */}
        {service.features.length > 0 && (
          <div className="mt-16">
            <h2 className="text-3xl font-bold mb-8">Key Features</h2>
            <ul className="grid gap-4 md:grid-cols-2">
              {service.features.map((feature, i) => (
                <li key={i} className="flex items-start gap-3">
                  <span className="text-primary mt-1">✓</span>
                  <span className="text-lg">{feature}</span>
                </li>
              ))}
            </ul>
          </div>
        )}

        {/* Tech Stack */}
        {service.techStack.length > 0 && (
          <div className="mt-16">
            <h2 className="text-3xl font-bold mb-8">Technology Stack</h2>
            <div className="flex flex-wrap gap-3">
              {service.techStack.map((tech) => (
                <span
                  key={tech}
                  className="px-4 py-2 bg-muted rounded-lg text-sm font-medium"
                >
                  {tech}
                </span>
              ))}
            </div>
          </div>
        )}
      </div>
    </div>
  );
}

==========================================
FILE: ./src/components/blog-card.tsx
==========================================

"use client";

import Image from "next/image";
import Link from "next/link";
import { ArrowRight } from "lucide-react";
import { Button } from "@/components/ui/button";
import type { PostMeta } from "@/lib/api";
import { formatDate } from "@/lib/utils";

export function BlogCard({ post }: { post: PostMeta }) {
  return (
    <div className="group flex flex-col rounded-2xl border bg-card overflow-hidden h-full">
      <div className="relative aspect-[16/10] overflow-hidden">
        <Image
          src={post.coverImage}
          alt={post.title}
          fill
          className="object-cover transition-transform duration-500 group-hover:scale-105"
        />
      </div>
      <div className="flex flex-col flex-1 p-6">
        <p className="mb-2 text-xs font-bold uppercase tracking-wider text-primary">
          {post.category}
        </p>
        <h3 className="mb-3 text-xl font-bold leading-tight line-clamp-2">
          {post.title}
        </h3>
        <p className="mb-6 text-sm text-muted-foreground line-clamp-3 flex-1">
          {post.excerpt}
        </p>
        <div className="flex items-center justify-between mt-auto">
          <div className="flex items-center gap-3">
            <div className="relative h-8 w-8 overflow-hidden rounded-full bg-muted">
              {post.authorImage ? (
                <Image src={post.authorImage} alt={post.author} fill className="object-cover" />
              ) : (
                <div className="w-full h-full bg-primary/10 flex items-center justify-center text-[10px]">{post.author.charAt(0)}</div>
              )}
            </div>
            <div className="text-xs">
              <p className="font-medium text-foreground">{post.author}</p>
              <p className="text-muted-foreground">{formatDate(post.date)}</p>
            </div>
          </div>
          <Button asChild variant="ghost" size="sm" className="gap-2 rounded-full hover:bg-primary hover:text-primary-foreground group-hover:translate-x-1 transition-all">
            <Link href={`/blog/${post.slug}`}>
              Read More <ArrowRight className="h-3 w-3" />
            </Link>
          </Button>
        </div>
      </div>
    </div>
  );
}

==========================================
FILE: ./src/components/blog.tsx
==========================================

import Image from "next/image";
import Link from 'next/link'
import { ArrowRight } from "lucide-react";
import { Button } from "@/components/ui/button";
import type { Post } from "@/lib/api";
import { formatDate } from "@/lib/utils";

interface BlogProps {
  posts: Post[];
}

export function Blog({ posts }: BlogProps) {
  return (
    <section id="blog" className="py-20 md:py-32">
      <div className="container px-4 md:px-8">
        <div className="mb-12">
          <p className="mb-2 text-sm font-medium text-muted-foreground">
            Blog
          </p>
          <h2 className="text-3xl font-bold tracking-tight sm:text-4xl">
            Learn More From Our Articles
          </h2>
        </div>

        <div className="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
          {posts.slice(0, 3).map((post) => (
            <div
              key={post.slug}
              className="group flex flex-col rounded-2xl border bg-card overflow-hidden h-full"
            >
              <div className="relative aspect-16/10 overflow-hidden">
                <Image
                  src={post.coverImage}
                  alt={post.title}
                  fill
                  className="object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div className="flex flex-col flex-1 p-6">
                <p className="mb-2 text-xs font-bold uppercase tracking-wider text-primary">
                  {post.category}
                </p>
                <h3 className="mb-3 text-xl font-bold leading-tight line-clamp-2">
                  {post.title}
                </h3>
                <p className="mb-6 text-sm text-muted-foreground line-clamp-3 flex-1">
                  {post.excerpt}
                </p>
                <div className="flex items-center justify-between mt-auto">
                  <div className="flex items-center gap-3">
                    <div className="relative h-8 w-8 overflow-hidden rounded-full bg-muted">
                      {post.authorImage ? (
                        <Image src={post.authorImage} alt={post.author} fill className="object-cover" />
                      ) : (
                        <div className="w-full h-full bg-primary/10" />
                      )}
                    </div>
                    <div className="text-xs">
                      <p className="font-medium text-foreground">{post.author}</p>
                      <p className="text-muted-foreground">{formatDate(post.date)}</p>
                    </div>
                  </div>
                  <Button variant="ghost" size="sm" className="gap-2 rounded-full hover:bg-primary hover:text-primary-foreground group-hover:translate-x-1 transition-all">
                    Read More <ArrowRight className="h-3 w-3" />
                  </Button>
                </div>
              </div>
            </div>
          ))}
        </div>

        <div className="mt-12 flex justify-center">
          <Button variant="outline" className="rounded-full px-8">
            <Link href='/blog'>View All →</Link>
          </Button>
        </div>
      </div>
    </section>
  );
}


==========================================
FILE: ./src/components/contact.tsx
==========================================

import { ArrowUpRight, Mail, Phone } from "lucide-react";
import { Button } from "@/components/ui/button";

export function Contact() {
  return (
    <section className="bg-[#1C1C1C] text-white py-20 md:py-32">
      <div className="container px-4 md:px-8">
        <div className="grid lg:grid-cols-2 gap-16">
          {/* Left Column */}
          <div className="space-y-8">
            <h2 className="text-4xl font-bold tracking-tight sm:text-5xl">
              Get in touch
            </h2>
            <p className="text-gray-400 max-w-md">
              Our team would love to hear from you!
            </p>

            <div className="space-y-6 pt-8">
              <div className="flex items-center gap-4">
                <div className="flex h-12 w-12 items-center justify-center rounded-full bg-white/10">
                  <Mail className="h-5 w-5" />
                </div>
                <div>
                  <p className="font-semibold">Email</p>
                  <p className="text-sm text-gray-400"> davidessienshare@gmail</p>
                </div>
              </div>
              <div className="flex items-center gap-4">
                <div className="flex h-12 w-12 items-center justify-center rounded-full bg-white/10">
                  <Phone className="h-5 w-5" />
                </div>
                <div>
                  <p className="font-semibold">Phone</p>
                  <p className="text-sm text-gray-400">+234 816 746 2431</p>
                </div>
              </div>
            </div>
          </div>

          {/* Right Column - Form */}
          <div className="bg-white rounded-3xl p-8 text-black">
            <form className="space-y-6">
              <div>
                <label htmlFor="name" className="mb-2 block text-sm font-semibold">
                  Your name
                </label>
                <input
                  id="name"
                  type="text"
                  placeholder="Vitalik Buterin"
                  className="w-full rounded-md border-0 bg-gray-100 px-4 py-3 text-sm placeholder:text-gray-400 focus:ring-2 focus:ring-black"
                />
              </div>
              <div>
                <label htmlFor="email" className="mb-2 block text-sm font-semibold">
                  Email address
                </label>
                <input
                  id="email"
                  type="email"
                  placeholder="vitalik@company.com"
                  className="w-full rounded-md border-0 bg-gray-100 px-4 py-3 text-sm placeholder:text-gray-400 focus:ring-2 focus:ring-black"
                />
              </div>
              <div>
                <label htmlFor="phone" className="mb-2 block text-sm font-semibold">
                  Phone number (optional)
                </label>
                <input
                  id="phone"
                  type="tel"
                  placeholder="+1 415 800-1287"
                  className="w-full rounded-md border-0 bg-gray-100 px-4 py-3 text-sm placeholder:text-gray-400 focus:ring-2 focus:ring-black"
                />
              </div>
              <div>
                <label htmlFor="message" className="mb-2 block text-sm font-semibold">
                  Message
                </label>
                <textarea
                  id="message"
                  rows={4}
                  placeholder="Hi there, I would like to..."
                  className="w-full rounded-md border-0 bg-gray-100 px-4 py-3 text-sm placeholder:text-gray-400 focus:ring-2 focus:ring-black resize-none"
                />
              </div>
              <div className="flex justify-end">
                <Button className="bg-black text-white hover:bg-black/80 rounded-full px-6">
                  Send Message <ArrowUpRight className="ml-2 h-4 w-4" />
                </Button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  );
}


==========================================
FILE: ./src/components/experience.tsx
==========================================

"use client";

import * as React from "react";
import Link from "next/link";
import { Download, Briefcase, GraduationCap, Award, Cpu } from "lucide-react";
import { Button } from "@/components/ui/button";
import type { Experience } from "@/lib/api";

interface ExperienceProps {
  items: Experience[];
}

const TABS = [
  { id: "Skills", label: "Skills", icon: <Cpu className="w-4 h-4" /> },
  { id: "Experience", label: "Experience", icon: <Briefcase className="w-4 h-4" /> },
  { id: "Education", label: "Education", icon: <GraduationCap className="w-4 h-4" /> },
  { id: "Certification", label: "Certifications", icon: <Award className="w-4 h-4" /> },
];

export function ExperienceSection({ items }: ExperienceProps) {
  const [activeTab, setActiveTab] = React.useState("Experience");

  const filteredItems = items.filter((item) => item.type === activeTab);

  // Separate render logic for Skills as it might be different visual
  const isSkills = activeTab === "Skills";

  return (
    <section id="about" className="py-20 md:py-32 bg-secondary/20">
      <div className="container px-4 md:px-8">
        <div className="mb-12 flex flex-col md:flex-row items-end justify-between gap-8">
          <div>
            <p className="mb-2 text-sm font-medium text-muted-foreground">
              About
            </p>
            <h2 className="text-3xl font-bold tracking-tight sm:text-4xl mb-4">
              My Personal Work <br /> Details
            </h2>
          </div>
          <div className="flex flex-col md:items-end gap-4">
            <p className="max-w-md text-muted-foreground md:text-right">
              We conduct thorough evaluations of your competitors and target audience to uncover industry best practices.
            </p>
            <Button className="w-fit rounded-full" variant="outline">Download CV <Download className="ml-2 w-4 h-4" /></Button>
          </div>
        </div>

        <div className="flex flex-col lg:flex-row gap-8 lg:gap-16">
          {/* Tabs */}
          <div className="flex flex-col gap-2 min-w-50 self-start">
            {TABS.map((tab) => (
              <button
                key={tab.id}
                onClick={() => setActiveTab(tab.id)}
                className={`flex items-center gap-3 rounded-full px-6 py-3 text-sm font-medium transition-all text-left ${activeTab === tab.id
                  ? "bg-foreground text-background shadow-lg"
                  : "bg-background text-muted-foreground hover:bg-background/80 border"
                  }`}
              >
                {tab.icon}
                {tab.label}
              </button>
            ))}
          </div>

          {/* Content Area */}
          <div className="flex-1 bg-background rounded-3xl p-8 border min-h-[400px]">
            {filteredItems.length === 0 ? (
              <div className="h-full flex items-center justify-center text-muted-foreground">
                No information available for this section yet.
              </div>
            ) : (
              <div className="space-y-8">
                {filteredItems.map((item) => (
                  <div key={item.slug} className="group relative border-b last:border-0 pb-8 last:pb-0">
                    <div className="flex flex-col md:flex-row md:items-start justify-between gap-4">
                      <div>
                        <h3 className="text-lg font-bold">{item.title}</h3>
                        <div className="flex items-center gap-2 text-muted-foreground text-sm mb-2">
                          <span className="font-medium text-primary">{item.company}</span>
                          {item.location && <span>• {item.location}</span>}
                        </div>
                        <div className="text-muted-foreground text-sm max-w-xl">
                          {item.description}
                        </div>
                        {item.skills && (
                          <div className="flex flex-wrap gap-2 mt-3">
                            {item.skills.map(s => (
                              <span key={s} className="text-xs bg-secondary px-2 py-1 rounded-md">{s}</span>
                            ))}
                          </div>
                        )}
                      </div>
                      <div className="text-sm font-medium whitespace-nowrap bg-secondary/50 px-3 py-1 rounded-md h-fit">
                        {item.period}
                      </div>
                    </div>
                  </div>
                ))}
                {activeTab && (
                  <div className="pt-8 mt-auto">
                    <Link href={`/${activeTab.toLowerCase()}`}>
                      <Button
                        variant="outline"
                        className="w-fit rounded-full border-foreground text-foreground hover:bg-foreground hover:text-background flex items-center gap-2"
                      >
                        {TABS.find(tab => tab.id === activeTab)?.icon}
                        {`View all my ${activeTab}`}
                      </Button>
                    </Link>
                  </div>
                )}
              </div>
            )}
          </div>
        </div>
      </div>
    </section>
  );
}


==========================================
FILE: ./src/components/footer.tsx
==========================================

import Link from "next/link";
import { Github, Facebook, Twitter, Linkedin, MessageCircle } from "lucide-react";

export function Footer() {
  return (
    <footer className="bg-[#1C1C1C] text-white border-t border-white/10 py-16">
      <div className="container px-4 md:px-8">
        <div className="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
          <div className="col-span-2 md:col-span-1">
            <Link href="/" className="flex items-center space-x-2 mb-6">
              <span className="text-xl font-bold flex items-center gap-2">
                <span className="text-2xl">❖</span> David Essien
              </span>
            </Link>
            <div className="flex gap-4">
              <Link href="#" className="hover:text-primary transition-colors"><Github className="w-5 h-5" /></Link>
              <Link href="#" className="hover:text-primary transition-colors"><Facebook className="w-5 h-5" /></Link>
              <Link href="#" className="hover:text-primary transition-colors"><MessageCircle className="w-5 h-5" /></Link>
              <Link href="#" className="hover:text-primary transition-colors"><Linkedin className="w-5 h-5" /></Link>
            </div>
          </div>

          <div>
            <h4 className="font-semibold mb-4">Pages</h4>
            <ul className="space-y-2 text-sm text-gray-400">
              <li><Link href="/" className="hover:text-white">Home</Link></li>
              <li><Link href="/services" className="hover:text-white">Services</Link></li>
              <li><Link href="/projects" className="hover:text-white">Works</Link></li>
              <li><Link href="/about" className="hover:text-white">About</Link></li>
              <li><Link href="#testimonials" className="hover:text-white">Testimonials</Link></li>
            </ul>
          </div>

          <div>
            <h4 className="font-semibold mb-4">Resources</h4>
            <ul className="space-y-2 text-sm text-gray-400">
              <li><Link href="#" className="hover:text-white">Careers</Link></li>
              <li><Link href="#blog" className="hover:text-white">Blog</Link></li>
            </ul>
          </div>

          <div>
            <h4 className="font-semibold mb-4">Follow me on</h4>
            <ul className="space-y-2 text-sm text-gray-400">
              <li><Link href="#" className="hover:text-white">Facebook</Link></li>
              <li><Link href="#" className="hover:text-white">Linkedin</Link></li>
              <li><Link href="#" className="hover:text-white">Twitter</Link></li>
              <li><Link href="#" className="hover:text-white">Medium</Link></li>
              <li><Link href="#" className="hover:text-white">Github</Link></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
  );
}


==========================================
FILE: ./src/components/hero.tsx
==========================================

import Image from "next/image";
import { Button } from "@/components/ui/button";
import { Download, Linkedin, Facebook, Youtube } from "lucide-react";

export function Hero() {
  return (
    <section className="relative overflow-hidden pt-16 pb-32 md:pt-24 lg:pt-32">
      <div className="container px-4 md:px-8">
        <div className="grid gap-12 lg:grid-cols-2 items-center">
          <div className="flex flex-col justify-center space-y-8">
            <div className="space-y-4">
              <p className="text-sm font-semibold tracking-wide text-muted-foreground uppercase">
                I AM DAVID ESSIEN
              </p>
              <h1 className="text-4xl font-extrabold tracking-tight lg:text-6xl xl:text-7xl">
                Devops/Cloud Engineer
              </h1>
              <p className="max-w-[600px] text-muted-foreground md:text-xl leading-relaxed">
                with over 15 years of experience in the tech industry. He is also the co-founder of Psifon.org and Tersu (an organization dedicated to the implementation and democratization of practical knowledge).
              </p>
            </div>
            <div className="flex flex-col sm:flex-row gap-4">
              <Button className="h-12 px-8 rounded-full bg-primary text-primary-foreground hover:opacity-90 transition-opacity">
                Download CV <Download className="ml-2 h-4 w-4" />
              </Button>
              <div className="flex items-center gap-4">
                <Button variant="outline" size="icon" className="rounded-full w-12 h-12">
                  <Linkedin className="h-5 w-5" />
                </Button>
                <Button variant="outline" size="icon" className="rounded-full w-12 h-12">
                  <Facebook className="h-5 w-5" />
                </Button>
              </div>
            </div>
          </div>
          <div className="relative mx-auto w-full max-w-[500px] lg:max-w-none">
            <div className="relative aspect-square">
              {/* Background Shapes/Icons */}
              <div className="absolute top-0 left-0 animate-bounce delay-100">
                <div className="text-4xl text-slate-900">
                  <Image
                    src='/images/Amazon-Web-Services-Emblem.png'
                    height={40}
                    width={40}
                    alt='aws logo'
                  />
                </div>
              </div>
              <div className="absolute top-10 right-10 animate-pulse">
                <div className="text-4xl">
                  <Image
                    src='/images/kubernetes-wheels.jpg'
                    height={40}
                    width={40}
                    alt='kubenetes logo'
                  />
                </div>
              </div>
              <div className="absolute bottom-20 left-10 animate-pulse delay-75">
                <div className="text-4xl">
                  <Image
                    src='/images/docker-logo.jpg'
                    height={40}
                    width={40}
                    alt='kubenetes logo'
                  />
                </div>
              </div>

              {/* Main Image Container */}
              <div className="rounded-full overflow-hidden border-8 border-muted/20 bg-muted/10 w-full h-full relative z-10">
                <Image
                  src="/images/david-essien.jpg"
                  alt="David Essien"
                  fill
                  className="object-cover"
                  priority
                />
              </div>
            </div>
          </div>
        </div>

        {/* Brand Logos */}
        <div className="mt-24 rounded-2xl bg-[#1A1A1A] p-8 md:p-12">
          <div className="flex flex-wrap justify-around items-center gap-8 md:gap-16 opacity-70 grayscale hover:grayscale-0 transition-all duration-500">
            <h3 className="text-2xl text-white font-bold flex items-center gap-2">Google</h3>
            <h3 className="text-2xl text-white font-bold flex items-center gap-2">facebook</h3>
            <h3 className="text-2xl text-white font-bold flex items-center gap-2">YouTube</h3>
            <h3 className="text-2xl text-white font-bold flex items-center gap-2">Pinterest</h3>
          </div>
        </div>
      </div>
    </section>
  );
}


==========================================
FILE: ./src/components/navbar.tsx
==========================================

"use client";

import * as React from "react";
import Link from "next/link";
import { Moon, Sun, Menu, X, Twitter, Mail, Linkedin, Globe, Instagram } from "lucide-react";
import { useTheme } from "next-themes";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";

interface NavLinkProps {
  href: string;
  children?: React.ReactNode;
  mobile?: boolean;
  onClick?: () => void;
}

const NavLink = ({ href, children, mobile = false, onClick }: NavLinkProps) => (
  <Link
    href={href}
    onClick={onClick}
    className={cn(
      "text-sm font-medium transition-colors hover:text-primary",
      mobile ? "block py-3 text-lg" : "text-muted-foreground"
    )}
  >
    {children}
  </Link>
);

export function Navbar() {
  const { setTheme, theme } = useTheme();
  const [isOpen, setIsOpen] = React.useState(false);
  const [mounted, setMounted] = React.useState(false);

  React.useEffect(() => setMounted(true), []);

  return (
    <div className="w-full">
      {/* Top Bar */}
      <div className="bg-primary/5 dark:bg-black/40 border-b py-2 px-4 md:px-8 text-xs flex justify-between items-center text-muted-foreground">
        <div className="flex gap-4">
          <span className="flex items-center gap-1"><Twitter size={12} /> +234 816 746 2431</span>
          <span className="flex items-center gap-1"><Mail size={12} />  davidessienshare@gmail.com</span>
        </div>
        <div className="flex gap-3">
          <Linkedin size={14} className="hover:text-foreground cursor-pointer" />
          <Twitter size={14} className="hover:text-foreground cursor-pointer" />
          <Globe size={14} className="hover:text-foreground cursor-pointer" />
          <Instagram size={14} className="hover:text-foreground cursor-pointer" />
        </div>
      </div>

      <header className="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
        <div className="container flex h-16 items-center justify-between px-4 md:px-8">
          <div className="mr-4 flex">
            <Link href="/" className="mr-6 flex items-center space-x-2">
              <span className="text-xl font-bold flex items-center gap-2">
                <span className="text-2xl">❖</span> David Essien
              </span>
            </Link>
          </div>

          {/* Desktop Nav */}
          <nav className="hidden md:flex items-center gap-6">
            <NavLink href="/services">Services</NavLink>
            <NavLink href="/projects">Projects</NavLink>
            <NavLink href="/about">About</NavLink>
            <NavLink href="#testimonials">Testimonials</NavLink>
            <NavLink href="/blog">Blog</NavLink>
            <Button variant="default" size="sm" className="rounded-none bg-primary text-primary-foreground hover:bg-primary/90">
              Hire Me
            </Button>
            {mounted && (
              <Button
                variant="ghost"
                size="icon"
                onClick={() => setTheme(theme === "dark" ? "light" : "dark")}
              >
                <Sun className="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0" />
                <Moon className="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100" />
                <span className="sr-only">Toggle theme</span>
              </Button>
            )}
          </nav>

          {/* Mobile Menu Toggle */}
          <div className="flex md:hidden items-center gap-2">
            {mounted && (
              <Button
                variant="ghost"
                size="icon"
                onClick={() => setTheme(theme === "dark" ? "light" : "dark")}
              >
                <Sun className="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0" />
                <Moon className="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100" />
              </Button>
            )}
            <Button variant="ghost" size="icon" onClick={() => setIsOpen(!isOpen)}>
              {isOpen ? <X /> : <Menu />}
            </Button>
          </div>
        </div>

        {/* Mobile Nav */}
        {isOpen && (
          <div className="md:hidden border-b bg-background p-4">
            <nav className="flex flex-col space-y-2">
              <NavLink href="/services" mobile onClick={() => setIsOpen(false)}>Services</NavLink>
              <NavLink href="/projects" mobile onClick={() => setIsOpen(false)}>Works</NavLink>
              <NavLink href="/about" mobile onClick={() => setIsOpen(false)}>About</NavLink>
              <NavLink href="#testimonials" mobile onClick={() => setIsOpen(false)}>Testimonials</NavLink>
              <NavLink href="#blog" mobile onClick={() => setIsOpen(false)}>Blog</NavLink>
              <Button className="w-full mt-4">Hire Me</Button>
            </nav>
          </div>
        )}
      </header>
    </div>
  );
}

==========================================
FILE: ./src/components/project-card.tsx
==========================================

"use client";

import Image from "next/image";
import Link from "next/link";
import { ArrowRight } from "lucide-react";
import { Button } from "@/components/ui/button";
import type { Project } from "@/lib/projects";

interface ProjectCardProps {
  project: Project;
}

export default function ProjectCard({ project }: ProjectCardProps) {
  return (
    <Link href={`/projects/${project.slug}`}>
      <div className="group flex flex-col rounded-2xl border bg-card overflow-hidden h-full hover:shadow-lg transition-all duration-300">
        {/* Project Diagram/Image */}
        {project.image && (
          <div className="relative aspect-[16/10] overflow-hidden bg-gray-100 dark:bg-gray-900">
            <Image
              src={project.image}
              alt={project.title}
              fill
              className="object-cover transition-transform duration-500 group-hover:scale-105"
            />
          </div>
        )}

        {/* Content */}
        <div className="flex flex-col flex-1 p-6">
          {/* Categories */}
          <div className="flex flex-wrap gap-2 mb-3">
            {project.categories.slice(0, 3).map((category) => (
              <span
                key={category}
                className="px-3 py-1 text-xs font-medium rounded-full bg-primary/10 text-primary"
              >
                {category}
              </span>
            ))}
          </div>

          {/* Title */}
          <h3 className="mb-3 text-xl font-bold leading-tight line-clamp-2 group-hover:text-primary transition-colors">
            {project.title}
          </h3>

          {/* Description */}
          <p className="mb-6 text-sm text-muted-foreground line-clamp-3 flex-1">
            {project.description}
          </p>

          {/* Tech Stack Preview */}
          <div className="flex flex-wrap gap-2 mb-4">
            {project.techStack.slice(0, 3).map((tech) => (
              <span
                key={tech}
                className="px-2 py-1 text-xs rounded bg-secondary text-secondary-foreground"
              >
                {tech}
              </span>
            ))}
            {project.techStack.length > 3 && (
              <span className="px-2 py-1 text-xs text-muted-foreground">
                +{project.techStack.length - 3} more
              </span>
            )}
          </div>

          {/* Type and Duration */}
          <div className="flex items-center justify-between text-sm text-muted-foreground mt-auto">
            <span className="font-medium">{project.projectType}</span>
            <span>{project.duration}</span>
          </div>

          {/* View Project Button */}
          <div className="mt-4 pt-4 border-t">
            <Button
              variant="ghost"
              size="sm"
              className="w-full gap-2 rounded-full hover:bg-primary hover:text-primary-foreground group-hover:translate-x-1 transition-all"
            >
              View Details <ArrowRight className="h-3 w-3" />
            </Button>
          </div>
        </div>
      </div>
    </Link>
  );
}

==========================================
FILE: ./src/components/projects.tsx
==========================================

"use client";

import * as React from "react";
import Image from "next/image";
import Link from 'next/link'
import { ArrowRight } from "lucide-react";
import { Button } from "@/components/ui/button";
import type { Project } from "@/lib/api";

const categories = ["All", "Software", "Devops", "Web"];

interface ProjectsProps {
  projects: Project[];
}

export function Projects({ projects }: ProjectsProps) {
  const [activeCategory, setActiveCategory] = React.useState("All");

  const filteredProjects = projects.filter(
    (project) =>
      activeCategory === "All" ||
      project.categories?.some(
        (category) => category.toLowerCase() === activeCategory.toLowerCase()
      )
  );

  return (
    <section id="works" className="py-15 md:py-20">
      <div className="container px-4 md:px-8">
        <div className="mb-12 flex flex-col md:flex-row items-start md:items-center justify-between gap-6">
          <div>
            <p className="mb-2 text-sm font-medium text-muted-foreground">
              Services
            </p>
            <h2 className="text-3xl font-bold tracking-tight sm:text-4xl">
              Projects
            </h2>
          </div>
          <div className="flex flex-wrap gap-2">
            {categories.map((category) => (
              <button
                key={category}
                onClick={() => setActiveCategory(category)}
                className={`rounded-full px-6 py-2 text-sm font-medium transition-colors ${activeCategory === category
                  ? "bg-foreground text-background"
                  : "bg-muted text-muted-foreground hover:bg-muted/80"
                  }`}
              >
                {category}
              </button>
            ))}
          </div>
        </div>

        <div className="grid gap-8 sm:grid-cols-2">
          {filteredProjects.map((project) => (
            <div
              key={project.slug}
              className="group relative overflow-hidden rounded-2xl bg-card border"
            >
              <div className="relative aspect-video overflow-hidden">
                <Image
                  src={project.image}
                  alt={project.title}
                  fill
                  className="object-cover transition-transform duration-500 group-hover:scale-105"
                />
                <div className="absolute top-4 left-4">
                  <span className="inline-block rounded-full bg-background/90 px-3 py-1 text-xs font-semibold text-foreground backdrop-blur-sm">
                    {project.primaryCategory}
                  </span>
                </div>
              </div>
              <div className="p-6">
                <div className="mb-4 flex items-start justify-between gap-4">
                  <h3 className="text-xl font-bold flex-1 line-clamp-2">{project.title}</h3>
                  <Button
                    asChild
                    variant="outline"
                    size="default"
                    className="gap-2 rounded-full bg-black text-white hover:bg-black/80 border-none dark:bg-white dark:text-black shrink-0"
                  >
                    <Link href={`/projects/${project.slug}`}>
                      View Project <ArrowRight className="h-3 w-3" />
                    </Link>
                  </Button>
                </div>
                <p className="text-sm text-muted-foreground">
                  {project.stats}
                </p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
}


==========================================
FILE: ./src/components/services.tsx
==========================================

"use client";

import * as React from "react";
import type { Service } from "@/lib/services";
import Image from "next/image";
import Link from 'next/link'
import { Cloud, Code2, Server, Cpu, Workflow, Database } from "lucide-react";
import { Button } from './ui/button';

interface ServicesProps {
  services: Service[];
}

// Map icons based on service type or category
const getServiceIcon = (serviceType: string) => {
  switch (serviceType.toLowerCase()) {
    case "consulting":
      return <Cpu className="h-8 w-8" />;
    case "implementation":
      return <Server className="h-8 w-8" />;
    case "development":
      return <Code2 className="h-8 w-8" />;
    case "automation":
      return <Workflow className="h-8 w-8" />;
    case "devops":
      return <Cloud className="h-8 w-8" />;
    case "database":
      return <Database className="h-8 w-8" />;
    default:
      return <Cpu className="h-8 w-8" />;
  }
};

export function Services({ services }: ServicesProps) {
  const [randomServices, setRandomServices] = React.useState<Service[]>([]);

  // Shuffle and pick 2 random services on initial render
  React.useEffect(() => {
    if (services.length > 0) {
      const shuffled = [...services]
        .sort(() => Math.random() - 0.5)
        .slice(0, 2);
      setRandomServices(shuffled);
    }
  }, [services]);

  return (
    <section id="services" className="py-15 md:py-16 bg-background">
      <div className="container px-4 md:px-8">
        <div className="mb-16 flex flex-col md:flex-row md:items-end justify-between gap-8">
          <div>
            <p className="mb-2 text-sm font-medium text-muted-foreground">
              Services
            </p>
            <h2 className="text-3xl font-bold tracking-tight sm:text-4xl">
              My Areas of Expertise
            </h2>
          </div>
          <p className="max-w-md text-muted-foreground">
            Professional DevOps, Cloud, and Full-Stack development services to accelerate your digital transformation
          </p>
          {/* Category pills removed from here */}
        </div>

        <div className="grid gap-8 lg:grid-cols-2 items-center">
          <div className="space-y-6">
            {randomServices.map((service, index) => (
              <div
                key={service.slug}
                className="group relative overflow-hidden rounded-3xl border bg-card p-8 hover:shadow-lg transition-all duration-300"
              >
                <Link href={`/services/${service.slug}`}>
                  <div className="mb-4 inline-flex h-12 w-12 items-center justify-center rounded-xl bg-primary/5 text-foreground group-hover:bg-primary group-hover:text-primary-foreground transition-colors">
                    {getServiceIcon(service.serviceType)}
                  </div>
                  <div className="flex items-center gap-3 mb-2">
                    <h3 className="text-xl font-bold">{service.title}</h3>
                    <span className="text-xs font-medium px-3 py-1 rounded-full bg-primary/10 text-primary">
                      {service.serviceType}
                    </span>
                  </div>
                  <p className="text-muted-foreground mb-4">{service.description}</p>

                  {/* Show features if available */}
                  {service.features && service.features.length > 0 && (
                    <div className="mt-4 pt-4 border-t">
                      <ul className="space-y-2">
                        {service.features.slice(0, 2).map((feature, idx) => (
                          <li key={idx} className="flex items-center text-sm">
                            <span className="text-primary mr-2">•</span>
                            <span className="text-muted-foreground">{feature}</span>
                          </li>
                        ))}
                      </ul>
                    </div>
                  )}

                  {/* Duration info */}
                  <div className="mt-4 text-sm text-muted-foreground">
                    <span className="font-medium">{service.duration}</span>
                  </div>
                </Link>
              </div>
            ))}
          </div>

          <div className="relative aspect-square lg:aspect-auto lg:h-full min-h-[400px]">
            <div className="absolute inset-0 rounded-3xl overflow-hidden bg-black">
              {/* Use service-related image or fallback */}
              {randomServices[0]?.image ? (
                <Image
                  src={randomServices[0].image}
                  alt={randomServices[0].title}
                  fill
                  className="object-cover opacity-80"
                />
              ) : (
                <Image
                  src="https://picsum.photos/800/600?grayscale"
                  alt="Service showcase"
                  fill
                  className="object-cover opacity-80"
                />
              )}
              <div className="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent" />

              {/* Overlay text */}
              <div className="absolute bottom-0 left-0 right-0 p-8 text-white">
                <h3 className="text-2xl font-bold mb-2">Expert Services</h3>
                <p className="text-gray-300">
                  Randomly selected from my portfolio of {services.length} professional services
                </p>
              </div>
            </div>
          </div>
        </div>

        {/* View All Services link */}
        <div className="mt-12 flex justify-center">
          <Button variant="outline" className="rounded-full px-8">
            <Link href='/blog'>View all services →</Link>
          </Button>
        </div>
      </div>
    </section>
  );
}

==========================================
FILE: ./src/components/theme-provider.tsx
==========================================

"use client";

import * as React from "react";
import { ThemeProvider as NextThemesProvider } from "next-themes";

export function ThemeProvider({
  children,
  ...props
}: React.ComponentProps<typeof NextThemesProvider>) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;
}

==========================================
FILE: ./src/components/ui/button.tsx
==========================================

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
        "icon-sm": "size-8",
        "icon-lg": "size-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant = "default",
  size = "default",
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean
  }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="button"
      data-variant={variant}
      data-size={size}
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }


==========================================
FILE: ./src/lib/api.ts
==========================================

import fs from "fs";
import path from "path";
import matter from "gray-matter";
import education from "@/content/education.json";
import certifications from "@/content/certifications.json";
import skills from "@/content/skills.json";

// Constants for directories
const PROJECTS_DIR = path.join((process as any).cwd(), "src/content/projects");
const POSTS_DIR = path.join((process as any).cwd(), "src/content/posts");
const EXPERIENCE_DIR = path.join(
  (process as any).cwd(),
  "src/content/experiences"
);

export interface Project {
  slug: string;
  title: string;
  primaryCategory: string;
  categories?: string[];
  description: string;
  image: string;
  content: string;
  link?: string;
  stats?: string;
}

export interface PostMeta {
  slug: string;
  title: string;
  excerpt: string;
  date: string;
  category: string;
  coverImage: string;
  views?: number;
  shares?: number;
  readTime?: string;
  authorImage?: string;
  author: string;
}

export interface Post extends PostMeta {
  content: string;
  draft: boolean;
  tags: string[];
}

export interface Experience {
  slug: string;
  title: string;
  company: string;
  period: string;
  type: "Experience" | "Education" | "Certification" | "Skills"; // Categorization
  description: string;
  location?: string;
  skills?: string[];
  content: string;
}

export async function getProjects(): Promise<Project[]> {
  const files = getFiles(PROJECTS_DIR);
  const projects = files.map((filename) => {
    const filePath = path.join(PROJECTS_DIR, filename);
    const fileContent = fs.readFileSync(filePath, "utf-8");
    const {data, content} = matter(fileContent);
    return {
      slug: filename.replace(".md", ""),
      ...data,
      content,
    } as Project;
  });
  return projects;
}

export async function getExperience(): Promise<Experience[]> {
  const files = getFiles(EXPERIENCE_DIR);
  const experiences = files.map((filename) => {
    const filePath = path.join(EXPERIENCE_DIR, filename);
    const fileContent = fs.readFileSync(filePath, "utf-8");
    const {data, content} = matter(fileContent);
    return {
      slug: filename.replace(".md", ""),
      ...data,
      content,
    } as Experience;
  });
  return experiences;
}

// Helper to get files
function getFiles(dir: string) {
  if (!fs.existsSync(dir)) return [];
  return fs.readdirSync(dir).filter((file) => file.endsWith(".md"));
}

export async function getPosts(): Promise<Post[]> {
  const files = getFiles(POSTS_DIR);

  const posts = files
    .map((filename) => {
      const filePath = path.join(POSTS_DIR, filename);
      const fileContent = fs.readFileSync(filePath, "utf-8");
      const {data, content} = matter(fileContent);
      return {
        slug: filename.replace(".md", ""),
        title: data.title ?? "Untitled",
        excerpt: data.excerpt ?? "",
        date: data.date ?? "1970-01-01",
        author: data.author ?? "Unknown",
        authorImage: data.authorImage,
        coverImage: data.coverImage ?? "/placeholder.png",
        category: data.category ?? "General",
        tags: data.tags ?? [],
        draft: data.draft ?? false,
        content,
      } as Post;
    })
    .filter((post) => !(post.draft && process.env.NODE_ENV === "production")); // skip drafts

  // Sort by date descending
  return posts.sort(
    (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()
  );
}

export async function getPostBySlug(slug: string): Promise<Post | null> {
  const filePath = path.join(POSTS_DIR, `${slug}.md`);

  const fileContent = fs.readFileSync(filePath, "utf-8");
  const {data, content} = matter(fileContent);
  return {
    slug,
    ...data,
    content,
  } as Post;
}

export async function getAllTags(): Promise<string[]> {
  const posts = await getPosts();
  const tags = new Set<string>();
  posts.forEach((post) => post.tags?.forEach((tag) => tags.add(tag)));
  return Array.from(tags).sort();
}

export async function getAllCategories(): Promise<string[]> {
  const posts = await getPosts();
  const categories = new Set<string>();
  posts.forEach((post) => categories.add(post.category));
  return Array.from(categories).sort();
}

export async function getRelatedPosts(
  slug: string,
  limit = 3
): Promise<Post[]> {
  const allPosts = await getPosts();
  const currentPost = allPosts.find((p) => p.slug === slug);
  if (!currentPost) return [];

  const related = allPosts
    .filter((p) => p.slug !== slug)
    .map((p) => ({
      post: p,
      score:
        p.tags?.filter((tag) => currentPost.tags?.includes(tag)).length ?? 0,
    }))
    .filter((item) => item.score > 0)
    .sort((a, b) => b.score - a.score)
    .slice(0, limit)
    .map((item) => item.post);

  return related;
}

export async function getExperienceSectionData(): Promise<Experience[]> {
  const experience = await getExperience();

  const educationItems: Experience[] = education.education.map((e: any) => ({
    slug: `${e.institution}-${e.startYear}`,
    title: e.degree || e.program,
    company: e.institution,
    period: e.duration,
    type: "Education",
    description: e.description,
    location: e.location,
    skills: e.relevantCourses || e.skillsAcquired,
    content: "",
  }));

  const certificationItems: Experience[] = certifications.certifications.map(
    (c: any) => ({
      slug: c.certificateId,
      title: c.name,
      company: c.issuingOrganization,
      period: `${c.issueDate} – ${c.expirationDate}`,
      type: "Certification",
      description: `Certified in ${c.skills.join(", ")}`,
      skills: c.skills,
      content: "",
    })
  );

  const skillItems: Experience[] = Object.entries(skills.skills).map(
    ([category, values]: any) => ({
      slug: category.toLowerCase(),
      title: category,
      company: "Skill Set",
      period: "Current",
      type: "Skills",
      description: category,
      skills: values,
      content: "",
    })
  );

  return [
    ...experience,
    ...educationItems,
    ...certificationItems,
    ...skillItems,
  ];
}


==========================================
FILE: ./src/lib/content/blog.schema.ts
==========================================

import {z} from "zod";

export const BlogPostSchema = z.object({
  slug: z.string(),
  title: z.string().min(1),
  date: z
    .union([z.string(), z.date()])
    .transform((value) =>
      value instanceof Date ? value.toISOString().split("T")[0] : value
    ),
  primaryCategory: z.string(),
  categories: z.array(z.string()).default([]),
  tags: z.array(z.string()).default([]),
  excerpt: z.string(),
  coverImage: z.string(),
  status: z.enum(["draft", "published"]).default("published"),
});

export type BlogPost = z.infer<typeof BlogPostSchema>;


==========================================
FILE: ./src/lib/content/experience.schema.ts
==========================================

import {z} from "zod";

export const ExperienceFrontmatterSchema = z.object({
  title: z.string(),
  company: z.string(),
  location: z.string().optional(),
  roleType: z
    .enum(["Full-time", "Part-time", "Contract", "Internship"])
    .default("Full-time"),
  remote: z.boolean().default(false),
  duration: z.object({
    start: z.string(),
    end: z.string().nullable(),
    label: z.string(),
  }),
  description: z.string(),
  tags: z.array(z.string()).default([]),
  techStack: z.array(z.string()).default([]),
});

export type ExperienceFrontmatter = z.infer<typeof ExperienceFrontmatterSchema>;


==========================================
FILE: ./src/lib/content/project.schema.ts
==========================================

import {z} from "zod";

export const ProjectFrontmatterSchema = z.object({
  title: z.string(),
  projectType: z.string(),
  image: z.string().optional(),
  duration: z.string(),
  description: z.string(),
  primaryCategory: z.string(),
  categories: z.array(z.string()).default([]),
  tags: z.array(z.string()).default([]),
  techStack: z.array(z.string()).default([]),
  repoUrl: z.string().url().optional(),
  demoUrl: z.string().url().optional(),
});

export type ProjectFrontmatter = z.infer<typeof ProjectFrontmatterSchema>;


==========================================
FILE: ./src/lib/content/service.schema.ts
==========================================

import {z} from "zod";

export const ServiceFrontmatterSchema = z.object({
  slug: z.string(),
  title: z.string(),
  serviceType: z.string(),
  image: z.string(),
  icon: z.string(),
  duration: z.string(),
  description: z.string(),
  primaryCategory: z.string(),
  categories: z.array(z.string()).default([]),
  tags: z.array(z.string()).default([]),
  features: z.array(z.string()).default([]),
  techStack: z.array(z.string()).default([]),
});

export type ServiceFrontmatter = z.infer<typeof ServiceFrontmatterSchema>;


==========================================
FILE: ./src/lib/experience.ts
==========================================

import fs from "fs";
import path from "path";
import matter from "gray-matter";
import {renderMarkdown} from "./markdown";
import {
  ExperienceFrontmatterSchema,
  type ExperienceFrontmatter,
} from "./content/experience.schema";
import {cache} from "react";

const EXPERIENCE_DIR = path.join(process.cwd(), "src/content/experiences");

export interface Experience extends ExperienceFrontmatter {
  slug: string; // From filename (with number prefix)
  order: number; // Extracted from filename prefix
  content: string;
  html: string;
}

// Helper: Extract order and slug from filename
function parseFilename(filename: string): {order: number; slug: string} {
  const base = filename.replace(/\.md$/, "");

  // Extract number prefix (e.g., "00-" gives order 0)
  const match = base.match(/^(\d+)-/);
  let order = 0;
  const slug = base; // Keep full filename as slug (with number prefix)

  if (match) {
    order = parseInt(match[1], 10);
  }

  return {order, slug};
}

// Get single experience by slug (slug includes number prefix)
export const getExperienceBySlug = cache(
  async (slug: string): Promise<Experience | null> => {
    try {
      // Slug already includes number prefix from index
      const filePath = path.join(EXPERIENCE_DIR, `${slug}.md`);

      if (!fs.existsSync(filePath)) {
        console.error(`File not found: ${slug}.md`);
        return null;
      }

      const raw = fs.readFileSync(filePath, "utf-8");
      const {data, content} = matter(raw);

      const parsed = ExperienceFrontmatterSchema.safeParse(data);
      if (!parsed.success) {
        console.error(
          `Invalid experience frontmatter in ${slug}:`,
          parsed.error.format()
        );
        return null;
      }

      const html = await renderMarkdown(content);
      const {order} = parseFilename(slug);

      return {
        ...parsed.data,
        slug,
        order,
        content,
        html,
      };
    } catch (error) {
      console.error(`Failed to load experience ${slug}:`, error);
      return null;
    }
  }
);

// Get all experience slugs (for generateStaticParams)
export const getAllExperienceSlugs = cache((): string[] => {
  if (!fs.existsSync(EXPERIENCE_DIR)) return [];

  return fs
    .readdirSync(EXPERIENCE_DIR)
    .filter((file) => file.endsWith(".md"))
    .map((file) => file.replace(/\.md$/, ""));
});


==========================================
FILE: ./src/lib/markdown.ts
==========================================

import markdownIt from "markdown-it";
import Shiki from "@shikijs/markdown-it";
import {cache} from "react";

// Lazy-initialize Markdown engine with Shiki for syntax highlighting
const getMarkdownEngine = cache(async () => {
  const md = markdownIt({
    html: true,
    linkify: true,
    typographer: true,
  });

  // Add Shiki for syntax highlighting
  md.use(
    await Shiki({
      themes: {
        light: "github-light",
        dark: "github-dark",
      },
      defaultColor: false,
    })
  );

  return md;
});

// Render cache to avoid repeated processing
const renderCache = new Map<string, string>();

/**
 * Converts markdown content to HTML.
 * Uses Shiki + markdown-it.
 */
export async function renderMarkdown(content: string): Promise<string> {
  if (renderCache.has(content)) {
    return renderCache.get(content)!;
  }

  const engine = await getMarkdownEngine();
  const html = engine.render(content);
  renderCache.set(content, html);

  return html;
}


==========================================
FILE: ./src/lib/projects.ts
==========================================

import fs from "fs";
import path from "path";
import matter from "gray-matter";
import {renderMarkdown} from "./markdown";
import {
  ProjectFrontmatterSchema,
  type ProjectFrontmatter,
} from "./content/project.schema";
import {cache} from "react";

const PROJECTS_DIR = path.join(process.cwd(), "src/content/projects");

export interface Project extends ProjectFrontmatter {
  slug: string;
  order: number;
  content: string;
  html: string;
}

function parseFilename(filename: string): {order: number; slug: string} {
  const base = filename.replace(/\.md$/, "");
  const match = base.match(/^(\d+)-/);
  let order = 0;
  const slug = base;

  if (match) {
    order = parseInt(match[1], 10);
  }

  return {order, slug};
}

export const getProjectBySlug = cache(
  async (slug: string): Promise<Project | null> => {
    try {
      const filePath = path.join(PROJECTS_DIR, `${slug}.md`);

      if (!fs.existsSync(filePath)) {
        console.error(`File not found: ${slug}.md`);
        return null;
      }

      const raw = fs.readFileSync(filePath, "utf-8");
      const {data, content} = matter(raw);

      const parsed = ProjectFrontmatterSchema.safeParse(data);
      if (!parsed.success) {
        console.error(
          `Invalid project frontmatter in ${slug}:`,
          parsed.error.format()
        );
        return null;
      }

      const html = await renderMarkdown(content);
      const {order} = parseFilename(slug);

      return {
        ...parsed.data,
        slug,
        order,
        content,
        html,
      };
    } catch (error) {
      console.error(`Failed to load project ${slug}:`, error);
      return null;
    }
  }
);

export const getAllProjectSlugs = cache((): string[] => {
  if (!fs.existsSync(PROJECTS_DIR)) return [];

  return fs
    .readdirSync(PROJECTS_DIR)
    .filter((file) => file.endsWith(".md"))
    .map((file) => file.replace(/\.md$/, ""));
});

export const getAllProjects = cache(async (): Promise<Project[]> => {
  const slugs = getAllProjectSlugs();
  const projects = await Promise.all(
    slugs.map((slug) => getProjectBySlug(slug))
  );
  return projects
    .filter((p): p is Project => p !== null)
    .sort((a, b) => a.order - b.order);
});


==========================================
FILE: ./src/lib/services.ts
==========================================

import fs from "fs";
import path from "path";
import matter from "gray-matter";
import {renderMarkdown} from "./markdown";
import {
  ServiceFrontmatterSchema,
  type ServiceFrontmatter,
} from "./content/service.schema";
import {cache} from "react";

const SERVICES_DIR = path.join(process.cwd(), "src/content/services");

export interface Service extends ServiceFrontmatter {
  slug: string;
  order: number;
  content: string;
  html: string;
}

function parseFilename(filename: string): {order: number; slug: string} {
  const base = filename.replace(/\.md$/, "");
  const match = base.match(/^(\d+)-/);
  let order = 999; // default high if no prefix
  const slug = base;

  if (match) {
    order = parseInt(match[1], 10);
  }

  return {order, slug};
}

export const getServiceBySlug = cache(
  async (slug: string): Promise<Service | null> => {
    try {
      const filePath = path.join(SERVICES_DIR, `${slug}.md`);

      if (!fs.existsSync(filePath)) {
        console.error(`Service file not found: ${slug}.md`);
        return null;
      }

      const raw = fs.readFileSync(filePath, "utf-8");
      const {data, content} = matter(raw);

      const parsed = ServiceFrontmatterSchema.safeParse(data);
      if (!parsed.success) {
        console.error(
          `Invalid service frontmatter in ${slug}:`,
          parsed.error.format()
        );
        return null;
      }

      const html = await renderMarkdown(content);
      const {order} = parseFilename(slug);

      return {
        ...parsed.data,
        slug,
        order,
        content,
        html,
      };
    } catch (error) {
      console.error(`Failed to load service ${slug}:`, error);
      return null;
    }
  }
);

export const getAllServiceSlugs = cache((): string[] => {
  if (!fs.existsSync(SERVICES_DIR)) return [];

  return fs
    .readdirSync(SERVICES_DIR)
    .filter((file) => file.endsWith(".md"))
    .map((file) => file.replace(/\.md$/, ""));
});

export const getAllServices = cache(async (): Promise<Service[]> => {
  const slugs = getAllServiceSlugs();
  const services = await Promise.all(
    slugs.map((slug) => getServiceBySlug(slug))
  );
  return services
    .filter((s): s is Service => s !== null)
    .sort((a, b) => a.order - b.order);
});


==========================================
FILE: ./src/lib/utils.ts
==========================================

import {clsx, type ClassValue} from "clsx";
import {twMerge} from "tailwind-merge";
import {format} from "date-fns";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

export function formatDate(
  date: string | Date,
  dateFormat: string = "MMM d, yyyy"
) {
  const parsedDate = typeof date === "string" ? new Date(date) : date;

  if (isNaN(parsedDate.getTime())) {
    return "";
  }

  return format(parsedDate, dateFormat);
}


==========================================
FILE: ./src/scripts/build-blog-index.ts
==========================================

import fs from "fs";
import path from "path";
import matter from "gray-matter";
import {BlogPostSchema, BlogPost} from "@/lib/content/blog.schema";

const POSTS_DIR = path.join(process.cwd(), "src/content/posts");
const PUBLIC_DIR = path.join(process.cwd(), "public");

function buildBlogIndex() {
  if (!fs.existsSync(PUBLIC_DIR)) {
    fs.mkdirSync(PUBLIC_DIR, {recursive: true});
  }

  const searchIndex: Array<
    Pick<
      BlogPost,
      | "slug"
      | "title"
      | "excerpt"
      | "primaryCategory"
      | "categories"
      | "tags"
      | "date"
    >
  > = [];

  const files = fs.readdirSync(POSTS_DIR).filter((f) => f.endsWith(".md"));

  for (const file of files) {
    const raw = fs.readFileSync(path.join(POSTS_DIR, file), "utf-8");
    const {data} = matter(raw); // ignore content for indexing

    const parsed = BlogPostSchema.safeParse({
      ...data,
      content: "", // optional, just to satisfy schema if required
    });

    if (!parsed.success) {
      console.error(`❌ Invalid blog post: ${file}`);
      console.error(parsed.error.format());
      continue;
    }

    searchIndex.push({
      slug: parsed.data.slug,
      title: parsed.data.title,
      excerpt: parsed.data.excerpt,
      primaryCategory: parsed.data.primaryCategory,
      categories: parsed.data.categories,
      tags: parsed.data.tags,
      date: parsed.data.date,
    });
  }

  fs.writeFileSync(
    path.join(PUBLIC_DIR, "posts-search-index.json"),
    JSON.stringify(searchIndex, null, 2)
  );

  console.log(`✅ Built search index for ${searchIndex.length} blog posts`);
}

buildBlogIndex();


==========================================
FILE: ./src/scripts/build-experience-index.ts
==========================================

import fs from "fs";
import path from "path";
import matter from "gray-matter";
import {
  ExperienceFrontmatterSchema,
  type ExperienceFrontmatter,
} from "@/lib/content/experience.schema";

const EXPERIENCE_DIR = path.join(process.cwd(), "src/content/experiences");
const PUBLIC_DIR = path.join(process.cwd(), "public");

// Helper: Extract order from filename
function parseFilename(filename: string): {order: number; slug: string} {
  const base = filename.replace(/\.md$/, "");
  const match = base.match(/^(\d+)-/);
  let order = 0;
  const slug = base; // Keep full filename

  if (match) {
    order = parseInt(match[1], 10);
  }

  return {order, slug};
}

function buildExperienceIndex() {
  if (!fs.existsSync(EXPERIENCE_DIR)) {
    console.error(`Directory not found: ${EXPERIENCE_DIR}`);
    return;
  }

  if (!fs.existsSync(PUBLIC_DIR)) {
    fs.mkdirSync(PUBLIC_DIR, {recursive: true});
  }

  const files = fs.readdirSync(EXPERIENCE_DIR).filter((f) => f.endsWith(".md"));
  const index: Array<
    ExperienceFrontmatter & {
      slug: string;
      order: number;
    }
  > = [];

  console.log(`Found ${files.length} experience files`);

  for (const file of files) {
    console.log(`Processing: ${file}`);

    try {
      const raw = fs.readFileSync(path.join(EXPERIENCE_DIR, file), "utf-8");
      const {data} = matter(raw);

      const parsed = ExperienceFrontmatterSchema.safeParse(data);
      if (!parsed.success) {
        console.error(
          `❌ Invalid frontmatter in ${file}:`,
          parsed.error.format()
        );
        continue;
      }

      const {order, slug} = parseFilename(file);

      index.push({
        ...parsed.data,
        slug, // Use filename as slug (with number prefix)
        order,
      });

      console.log(`✅ Added: ${slug}`);
    } catch (error) {
      console.error(`❌ Failed to process ${file}:`, error);
    }
  }

  // Sort by order number
  index.sort((a, b) => b.order - a.order);

  fs.writeFileSync(
    path.join(PUBLIC_DIR, "experience-index.json"),
    JSON.stringify(index, null, 2)
  );

  console.log(`✅ Built experience index for ${index.length} items`);
  console.log(`📁 Output: ${path.join(PUBLIC_DIR, "experience-index.json")}`);
}

buildExperienceIndex();


==========================================
FILE: ./src/scripts/build-project-index.ts
==========================================

import fs from "fs";
import path from "path";
import matter from "gray-matter";
import {
  ProjectFrontmatterSchema,
  type ProjectFrontmatter,
} from "@/lib/content/project.schema";

const PROJECTS_DIR = path.join(process.cwd(), "src/content/projects");
const PUBLIC_DIR = path.join(process.cwd(), "public");

function parseFilename(filename: string): {order: number; slug: string} {
  const base = filename.replace(/\.md$/, "");
  const match = base.match(/^(\d+)-/);
  let order = 0;
  const slug = base;

  if (match) {
    order = parseInt(match[1], 10);
  }

  return {order, slug};
}

function buildProjectIndex() {
  if (!fs.existsSync(PROJECTS_DIR)) {
    console.error(`Directory not found: ${PROJECTS_DIR}`);
    return;
  }

  if (!fs.existsSync(PUBLIC_DIR)) {
    fs.mkdirSync(PUBLIC_DIR, {recursive: true});
  }

  const files = fs.readdirSync(PROJECTS_DIR).filter((f) => f.endsWith(".md"));
  const index: Array<
    ProjectFrontmatter & {
      slug: string;
      order: number;
    }
  > = [];

  console.log(`Found ${files.length} project files`);

  for (const file of files) {
    console.log(`Processing: ${file}`);

    try {
      const raw = fs.readFileSync(path.join(PROJECTS_DIR, file), "utf-8");
      const {data} = matter(raw);

      const parsed = ProjectFrontmatterSchema.safeParse(data);
      if (!parsed.success) {
        console.error(
          `❌ Invalid frontmatter in ${file}:`,
          parsed.error.format()
        );
        continue;
      }

      const {order, slug} = parseFilename(file);

      index.push({
        ...parsed.data,
        slug,
        order,
      });

      console.log(`✅ Added: ${slug}`);
    } catch (error) {
      console.error(`❌ Failed to process ${file}:`, error);
    }
  }

  // Sort by order number
  index.sort((a, b) => a.order - b.order);

  fs.writeFileSync(
    path.join(PUBLIC_DIR, "project-index.json"),
    JSON.stringify(index, null, 2)
  );

  console.log(`✅ Built project index for ${index.length} items`);
  console.log(`📁 Output: ${path.join(PUBLIC_DIR, "project-index.json")}`);
}

buildProjectIndex();


==========================================
FILE: ./src/scripts/build-service-index.ts
==========================================

import fs from "fs";
import path from "path";
import matter from "gray-matter";
import {
  ServiceFrontmatterSchema,
  type ServiceFrontmatter,
} from "@/lib/content/service.schema";

const SERVICES_DIR = path.join(process.cwd(), "src/content/services");
const PUBLIC_DIR = path.join(process.cwd(), "public");

function parseFilename(filename: string): {order: number; slug: string} {
  const base = filename.replace(/\.md$/, "");
  const match = base.match(/^(\d+)-/);
  let order = 999;
  const slug = base;

  if (match) {
    order = parseInt(match[1], 10);
  }

  return {order, slug};
}

function buildServiceIndex() {
  if (!fs.existsSync(SERVICES_DIR)) {
    console.error(`Directory not found: ${SERVICES_DIR}`);
    return;
  }

  if (!fs.existsSync(PUBLIC_DIR)) {
    fs.mkdirSync(PUBLIC_DIR, {recursive: true});
  }

  const files = fs.readdirSync(SERVICES_DIR).filter((f) => f.endsWith(".md"));
  const index: Array<
    ServiceFrontmatter & {
      slug: string;
      order: number;
    }
  > = [];

  console.log(`Found ${files.length} service files`);

  for (const file of files) {
    console.log(`Processing: ${file}`);
    try {
      const raw = fs.readFileSync(path.join(SERVICES_DIR, file), "utf-8");
      const {data} = matter(raw);

      const parsed = ServiceFrontmatterSchema.safeParse(data);
      if (!parsed.success) {
        console.error(
          `❌ Invalid frontmatter in ${file}:`,
          parsed.error.format()
        );
        continue;
      }

      const {order, slug} = parseFilename(file);

      index.push({
        ...parsed.data,
        slug,
        order,
      });

      console.log(`✅ Added: ${slug}`);
    } catch (error) {
      console.error(`❌ Failed to process ${file}:`, error);
    }
  }

  index.sort((a, b) => a.order - b.order);

  fs.writeFileSync(
    path.join(PUBLIC_DIR, "service-index.json"),
    JSON.stringify(index, null, 2)
  );

  console.log(`✅ Built service index for ${index.length} items`);
}

buildServiceIndex();


